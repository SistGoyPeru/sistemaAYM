{% extends 'base.html' %}
{% block content %}
<div class="row mb-4">
    <div class="col-md-3">
        <div class="card text-bg-primary mb-3">
            <div class="card-body">
                <h5 class="card-title">Total Proveedores</h5>
                <p class="card-text display-6">{{ total }}</p>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card text-bg-success mb-3">
            <div class="card-body">
                <h5 class="card-title">Activos</h5>
                <p class="card-text display-6">{{ activos }}</p>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card text-bg-warning mb-3">
            <div class="card-body">
                <h5 class="card-title">En prueba</h5>
                <p class="card-text display-6">{{ en_prueba }}</p>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card text-bg-danger mb-3">
            <div class="card-body">
                <h5 class="card-title">Bloqueados</h5>
                <p class="card-text display-6">{{ bloqueados }}</p>
            </div>
        </div>
    </div>
</div>

<h1>Lista de Proveedores</h1>
<div class="table-responsive">
<table class="table table-striped table-hover">
    <thead class="table-primary">
        <tr>
            <th>Razón Social</th>
            <th>Nombre Comercial</th>
            <th>ID Fiscal</th>
            <th>Categoría</th>
            <th>Teléfono</th>
            <th>Email</th>
            <th>Estado</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
    {% for proveedor in proveedores %}
    <tr>
        <td>{{ proveedor.razon_social }}</td>
        <td>{{ proveedor.nombre_comercial }}</td>
        <td>{{ proveedor.id_fiscal }}</td>
        <td>{{ proveedor.categoria }}</td>
        <td>{{ proveedor.telefono }}</td>
        <td>{{ proveedor.email }}</td>
        <td>{{ proveedor.get_estado_display }}</td>
        <td>
            <a href="{% url 'detalle_proveedor' proveedor.id %}" class="btn btn-sm btn-info text-white" title="Ver reporte"><i class="fa-solid fa-chart-line"></i></a>
            <a href="{% url 'editar_proveedor' proveedor.id %}" class="btn btn-sm btn-outline-primary ms-1">Editar</a>
            <a href="{% url 'eliminar_proveedor' proveedor.id %}" class="btn btn-sm btn-outline-danger ms-1">Eliminar</a>
        </td>
    </tr>
    {% endfor %}
    </tbody>
</table>
</div>
<a href="{% url 'nuevo_proveedor' %}" class="btn btn-primary">Registrar nuevo proveedor</a>
{% endblock %}
